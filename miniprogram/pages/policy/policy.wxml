<!--pages/policy/policy.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨åŒºåŸŸ -->
  <view class="header-section">
    <view class="title-bar">
      <view class="page-title">æ”¿ç­–é€Ÿé…</view>
      <view class="filter-btn">
        <view class="icon-filter"></view>
      </view>
    </view>

    <view class="search-box">
      <icon type="search" size="20" color="#9CA3AF"></icon>
      <input 
        class="search-input" 
        placeholder="è¾“å…¥å…³é”®è¯åŒ¹é…..." 
        placeholder-class="placeholder-style"
        value="{{searchKeyword}}"
        bindinput="onSearchInput"
        bindconfirm="onSearch"
      />
      <view class="match-btn" bindtap="onSearch">åŒ¹é…</view>
    </view>
  </view>

  <!-- åˆ—è¡¨åŒºåŸŸ -->
  <scroll-view class="policy-list" scroll-y enable-back-to-top>
    <block wx:for="{{filteredPolicyList}}" wx:key="id">
      <view class="policy-card" bindtap="onSelectPolicy" data-id="{{item.id}}">
        <view class="card-header">
          <view class="card-title">{{item.policyName}}</view>
          <view class="icon-file">ğŸ“„</view>
        </view>
        
        <view class="card-content">
          {{item.content || 'æš‚æ— æ‘˜è¦'}}
        </view>

        <view class="card-footer">
          <view class="tags">
            <view class="tag" wx:if="{{item.keywords}}">{{item.keywords}}</view>
          </view>
          <view class="detail-link">
            è¯¦æƒ… >
          </view>
        </view>
      </view>
    </block>
    
    <view wx:if="{{filteredPolicyList.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“­</text>
      <text class="empty-text">{{searchKeyword ? 'æœªæ‰¾åˆ°ç›¸å…³æ”¿ç­–' : 'æš‚æ— æ”¿ç­–æ•°æ®'}}</text>
    </view>
    <view class="bottom-spacer"></view>
  </scroll-view>
</view>
