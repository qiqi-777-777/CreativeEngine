<!--pages/resource/resource.wxml-->
<view class="container">
  
  <!-- é¡¶éƒ¨ Header -->
  <view class="page-header">
    <view class="header-left">
      <text class="header-subtitle">RESOURCE HUB</text>
      <text class="header-title">èµ„æºå¯¹æ¥</text>
    </view>
    <view class="search-btn">
      <text class="search-icon-img">ğŸ”</text>
    </view>
  </view>

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <view class="category-tabs">
    <scroll-view scroll-x class="tabs-scroll" enable-flex>
      <view class="tab-item {{currentTab === index ? 'active' : ''}}" 
            wx:for="{{tabs}}" 
            wx:key="id" 
            data-index="{{index}}"
            bindtap="onTabChange">
        {{item.name}}
      </view>
    </scroll-view>
  </view>

  <!-- åˆ—è¡¨å†…å®¹ -->
  <view class="page-body">
    <view class="job-item" wx:for="{{displayList}}" wx:key="id">
      <!-- é¡¶éƒ¨ä¿¡æ¯ï¼šèƒ¶å›Šæ ‡ç­¾ + è–ªèµ„ -->
      <view class="job-top-row">
        <view class="job-category-tag">{{item.categoryName}}</view>
        <view class="job-salary-box">
          <text class="job-salary">{{item.salary}}</text>
          <text class="job-unit">{{item.unit}}</text>
        </view>
      </view>

      <!-- æ ‡é¢˜ä¸æè¿° -->
      <view class="job-title">{{item.title}}</view>
      <view class="job-desc">{{item.description}}</view>

      <!-- åº•éƒ¨ä¿¡æ¯ï¼šåœ°ç‚¹ã€æ—¶é—´ & ç®­å¤´ -->
      <view class="job-footer">
        <view class="job-info-row">
          <view class="job-info-item">
            <text class="info-icon">ğŸ“</text>
            <text>{{item.location}}</text>
          </view>
          <!-- <view class="job-info-item">
            <text class="info-icon">ğŸ•’</text>
            <text>{{item.time}}</text>
          </view> --> 
          <!-- Only hiding time if space is tight, but we have space -->
        </view>
        <view class="arrow-btn">
          <text>â€º</text>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{displayList.length === 0}}">
      <text>æš‚æ— ç›¸å…³æœºä¼š</text>
    </view>
  </view>

  <!-- åº•éƒ¨å¯¼èˆª (Homepage Style) -->
  <view class="tab-bar">
    <view class="tab-bar-border"></view>
    <view wx:for="{{tabBarList}}" wx:key="index" class="tab-bar-item {{item.isSpecial ? 'special-item' : ''}}" data-path="{{item.pagePath}}" bindtap="switchTab">
      
      <!-- æ™®é€šå›¾æ ‡ -->
      <block wx:if="{{!item.isSpecial}}">
        <image class="tab-icon" src="{{item.iconPath}}"></image>
        <view class="tab-text">{{item.text}}</view>
      </block>

      <!-- ä¸­é—´ç‰¹æ®Šå›¾æ ‡ -->
      <block wx:else>
        <view class="special-icon-wrapper">
          <image class="special-icon" src="{{item.iconPath}}"></image>
        </view>
        <view class="tab-text special-text">{{item.text}}</view>
      </block>
      
    </view>
  </view>

</view>

